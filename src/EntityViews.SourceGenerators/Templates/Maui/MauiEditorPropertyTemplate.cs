using EntityViews.SourceGenerators.FormsGeneration;

namespace EntityViews.SourceGenerators.Templates.Maui;

public class MauiEditorPropertyTemplate
{
    public static string Build(InputTemplateParams p)
    {
        return @$"// <auto-generated/>
#nullable enable

{MauiGenerator.GetUsingStatements(p)}

namespace {p.FormNamespace};

public class {p.Property.Name}Input : {p.BaseControlClassName ?? "EntityViews.Input.EntityViewsTextAreaInput"}
{{
    public {p.Property.Name}Input()
    {{
        Input{MauiGenerator.GetBindingExpression("Editor.TextProperty", p)}

        Initialized(""{p.Property.Name}"", {p.PropertyDisplaySource});
    }}
}}
";
    }
}
